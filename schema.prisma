// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url      = env("DATABASE_URL")
  provider = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model Post {
  id      String @id @default(cuid())
  title   String @default("")
  slug    String @unique @default("")
  content String @default("")
}

model User {
  id                   String       @id @default(cuid())
  name                 String       @default("")
  username             String       @default("")
  email                String       @unique @default("")
  password             String
  accountCreated       DateTime?    @default(now())
  isOver18             Boolean      @default(false)
  pronouns             String       @default("")
  eventsAttended       String       @default("")
  isRunner             Boolean      @default(false)
  isStaff              Boolean      @default(false)
  discord              String       @default("")
  twitter              String       @default("")
  from_Volunteer_user  Volunteer[]  @relation("Volunteer_user")
  from_Submission_user Submission[] @relation("Submission_user")
}

model Volunteer {
  id                 String  @id @default(cuid())
  user               User?   @relation("Volunteer_user", fields: [userId], references: [id])
  userId             String? @map("user")
  isHost             Boolean @default(false)
  isTech             Boolean @default(false)
  isRunnerManagement Boolean @default(false)
  isAdmin            Boolean @default(false)

  @@index([userId])
}

model Submission {
  id                String    @id @default(cuid())
  user              User?     @relation("Submission_user", fields: [userId], references: [id])
  userId            String?   @map("user")
  created           DateTime? @default(now())
  game              String    @default("")
  category          String    @default("")
  platform          String    @default("")
  estimate          String    @default("")
  ageRating         String?   @default("M_or_Lower")
  donationIncentive String    @default("")
  race              String?   @default("no")
  racer             String    @default("")
  video             String    @default("")
  status            String?   @default("submitted")
  event             String    @default("ASM2022")

  @@index([userId])
}